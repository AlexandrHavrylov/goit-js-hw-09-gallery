{"version":3,"sources":["js/gallery-data.js","index.js"],"names":["preview","original","description","galleryBox","document","querySelector","modalBox","modalImage","createImg","pictures","map","index","join","onImageClik","evt","preventDefault","target","classList","contains","add","setAtributes","dataset","source","getAttribute","window","addEventListener","code","remove","imageChange","closeModal","removeEventListener","setAttribute","currentImg","currentImgIndex","length","nextImgIndex","Number","nextImg","prevImgIndex","prevImg","imgURL","imgAlt","imgIndex","innerHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACwIV,aAxIL,IAAA,EAAA,EAAA,QAAA,sBAwIK,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtIL,MAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAWF,SAASC,cAAc,gBAClCE,EAAaH,SAASC,cAAc,oBAMpCG,EAAYC,EAASC,QAAAA,IAAI,EAAEV,QAAAA,EAASC,SAAAA,EAASC,YAAAA,GAAcS,oFAKrDX,+DAICA,0BACQC,kBACRC,yBACOS,6BAKjBC,KAAK,IASR,SAASC,EAAYC,GACnBA,EAAIC,iBAEaD,EAAIE,OAAOC,UAAUC,SAAS,oBAK/CZ,EAASW,UAAUE,IAAI,WAQvBC,EAJeN,EAAIE,OAAOK,QAAQC,OACnBR,EAAIE,OAAOO,aAAa,OACtBT,EAAIE,OAAOK,QAAQV,OAMlCa,OAAOC,iBAAiB,UAAYX,IACnB,WAAbA,EAAIY,MACPpB,EAASW,UAAUU,OAAO,aAK7BH,OAAOC,iBAAiB,UAAWG,IASrC,SAASC,EAAWf,GAEDA,EAAIE,OAAOC,UAAUC,SAAS,qBAM9CM,OAAOM,oBAAoB,UAAYhB,IACrB,WAAbA,EAAIY,MACPpB,EAASW,UAAUU,OAAO,aAI3BH,OAAOM,oBAAoB,UAAWF,GAExCtB,EAASW,UAAUU,OAAO,WAG5BpB,EAAWwB,aAAa,MAAO,KAC/BxB,EAAWwB,aAAa,MAAO,MAO/B,SAASH,EAAad,GAEdkB,MACAC,EADa7B,SAASC,cAAc,oBACPgB,QAAQV,MAEvCG,GAAa,eAAbA,EAAIY,MAEFO,EAAkBxB,EAASyB,QAAAA,OAAS,EAAG,CACnCC,MAAAA,EAAeC,OAAOH,GAAmB,EACzCI,EAAUjC,SAASC,6CAA6C8B,OAIvEf,EAHoBiB,EAAQhB,QAAQC,OAChBe,EAAQd,aAAa,OAEHY,GAIrCrB,GAAa,cAAbA,EAAIY,MAEFO,EAAkB,EAAG,CACjBK,MAAAA,EAAeF,OAAOH,GAAmB,EAEzCM,EAAUnC,SAASC,6CAA6CiC,OAIxElB,EAHqBmB,EAAQlB,QAAQC,OAChBiB,EAAQhB,aAAa,OAELe,IAMzC,SAASlB,EAAaoB,EAAQC,EAAQC,GAEnCnC,EAAWwB,aAAa,SAAUS,KACnCjC,EAAWwB,aAAa,SAAUU,KAClClC,EAAWwB,aAAa,gBAAiBW,KA1G3CvC,EAAWwC,UAAYnC,EAKvBL,EAAWsB,iBAAiB,QAASZ,GAoCrCP,EAASmB,iBAAiB,QAASI","file":"src.a3830aa2.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  }, \n];","import pictures from './js/gallery-data'\n\nconst galleryBox = document.querySelector('.js-gallery')\nconst modalBox = document.querySelector('.js-lightbox')\nconst modalImage = document.querySelector('.lightbox__image')\n\n\n\n// Создаем разметку\n\nconst createImg = pictures.map(({preview, original,description}, index) => {\n  return `\n    <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${preview}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n      data-index=\"${index}\"\n    />\n  </a>\n</li>`\n\n}).join(\"\")\n\ngalleryBox.innerHTML = createImg\n\n\n// Открытие модалки по клику\n\ngalleryBox.addEventListener('click', onImageClik)\n\nfunction onImageClik(evt) {\n  evt.preventDefault()\n\nconst galleryImg = evt.target.classList.contains('gallery__image')\n  if (!galleryImg) {\n return\n  }\n  \n  modalBox.classList.add(\"is-open\")\n  \n\n  // Получаем и устанавливаем атрибуты для полной каринки \n  const imgURL = evt.target.dataset.source\n  const imgAlt = evt.target.getAttribute('alt')\n  const imgIndex = evt.target.dataset.index\n \n  setAtributes (imgURL, imgAlt, imgIndex)\n \n\n  // Закрытие модалки по нажатию эскейп\n    window.addEventListener(\"keydown\", (evt) => {\n    if (evt.code === 'Escape') {\n     modalBox.classList.remove(\"is-open\")\n   }\n  })\n\n// Смена картинки по нажатию стрелок на клавиатуре\n  window.addEventListener(\"keydown\", imageChange) \n     \n  \n    }\n\n\n// Закрытие модалки\nmodalBox.addEventListener('click', closeModal)\n\nfunction closeModal(evt) {\n\n  const modalImg = evt.target.classList.contains('lightbox__image')\n  if (modalImg) {\n    return\n  }\n\n  // Снятие слушателей событий по кнопкам\n   window.removeEventListener(\"keydown\", (evt) => {\n    if (evt.code === 'Escape') {\n     modalBox.classList.remove(\"is-open\")\n   }\n  })\n\n    window.removeEventListener(\"keydown\", imageChange) \n\n  modalBox.classList.remove(\"is-open\")\n\n\nmodalImage.setAttribute(\"src\", \" \" )\nmodalImage.setAttribute(\"alt\", \" \")\n\n\n\n}\n\n// Смена картинок\nfunction imageChange (evt) {\n       \n  const currentImg = document.querySelector('.lightbox__image')\n  const currentImgIndex = currentImg.dataset.index\n\n  if (evt.code === 'ArrowRight') {\n      \n    if (currentImgIndex < pictures.length - 1) {\n      const nextImgIndex = Number(currentImgIndex) + 1\n      const nextImg = document.querySelector(`.gallery__image[data-index=\"${nextImgIndex}\"]`)\n      const nextImgUrl = nextImg.dataset.source\n      const nextImgAlt = nextImg.getAttribute(\"alt\")\n\n     setAtributes (nextImgUrl, nextImgAlt, nextImgIndex)\n    }\n  }\n    \n  if (evt.code === 'ArrowLeft') {\n\n    if (currentImgIndex > 0) {\n      const prevImgIndex = Number(currentImgIndex) - 1\n\n      const prevImg = document.querySelector(`.gallery__image[data-index=\"${prevImgIndex}\"]`)\n      const prevImgUrl = prevImg.dataset.source\n      const prevImgAlt = prevImg.getAttribute(\"alt\")\n\n    setAtributes(prevImgUrl, prevImgAlt, prevImgIndex)\n    }\n  }\n}\n\n\nfunction setAtributes(imgURL, imgAlt, imgIndex) {\n      \n   modalImage.setAttribute(\"src\", `${imgURL}` )\n  modalImage.setAttribute(\"alt\", `${imgAlt}`)\n  modalImage.setAttribute(\"data-index\", `${imgIndex}`)\n    }"]}